<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>聚力共享</title>
    <meta name="viewport" content="width=640,user-scalable=no">
    <link rel="stylesheet" href="../jl/css/swiper.min.css">
    <link rel="stylesheet" href="../jl/css/animate.css">
    <link rel="stylesheet" href="../jl/css/reset.css">
    <link rel="stylesheet" href="../jl/css/style.css">
    <script src="../jl/js/swiper.min.js"></script>
    <script src="../jl/js/swiper.animate.min.js"></script>


</head>
<body>
<audio id="audio" src="../jl/1.mp3" preload="auto" loop="loop" autoplay="autoplay"></audio>
<div class="swiper-container">
    <div class="swiper-wrapper">
        <!-------------slide1----------------->
        <section class="swiper-slide swiper-slide1">
            <canvas id="canvas1"></canvas>
        </section>
        <!-------------slide2----------------->
        <section class="swiper-slide swiper-slide2">
            <canvas id="canvas2"></canvas>
        </section>
        <!-------------slide3----------------->
        <section class="swiper-slide swiper-slide3">

            <img class="ani timeText" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                 swiper-animate-delay="0s" src="../jl/images/P3/time.png" alt="">
            <img class="ani text1" swiper-animate-effect="slideInRight" swiper-animate-duration="0.6s"
                 swiper-animate-delay="0.5s" src="../jl/images/P3/text2.png" alt="">
            <div class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.6s" swiper-animate-delay="1.0s">
                <img class="text2" src="../jl/images/P3/text3.png" alt="">
                <img class="text3" src="../jl/images/P3/line.png" alt="">
                <img class="text4" src="../jl/images/P3/text1.png" alt="">
            </div>
            <img class="ani text5" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                 swiper-animate-delay="1.5s" src="../jl/images/P3/map.png" alt="">

        </section>
        <!-------------slide4----------------->
        <section class="swiper-slide swiper-slide4">
            <img class="ani text text0" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                 swiper-animate-delay="0s" src="../jl/images/P4/text6.png" alt="">
            <img class="ani text text1 location" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                 swiper-animate-delay="0.5s" src="../jl/images/P4/text1.png" alt="">
            <img class="ani text text2 location" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                 swiper-animate-delay="1.0s" src="../jl/images/P4/text2.png" alt="">
            <img class="ani text text3 location" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                 swiper-animate-delay="1.5s" src="../jl/images/P4/text3.png" alt="">
            <img class="ani text text4 location" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                 swiper-animate-delay="2s" src="../jl/images/P4/text4.png" alt="">
            <img class="ani text text5" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                 swiper-animate-delay="2.5s" src="../jl/images/P4/text5.png" alt="">
            <ul class="swiper-no-swiping">

                <li>
                    <img class="pos pos1 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="1s"
                         swiper-animate-delay="0s" src="../jl/images/P4_1/title.png" alt="">
                    <img class="pos pos2 ani" swiper-animate-effect="slideInUp" swiper-animate-duration="0.6s"
                         swiper-animate-delay="0.5s" src="../jl/images/P4_1/text1.png" alt="">
                    <img class="pos pos3 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                         swiper-animate-delay="1s" src="../jl/images/1.png" alt="">
                </li>
                <li>
                    <img class="pos pos1 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="1s"
                         swiper-animate-delay="0s" src="../jl/images/P4_2/title.png" alt="">
                    <img class="pos pos2 ani" swiper-animate-effect=" fadeIn" swiper-animate-duration="0.6s"
                         swiper-animate-delay="0.5s" src="../jl/images/P4_2/squ.png" alt="">
                    <img class=" pos3 ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                         swiper-animate-delay="1.0s" src="../jl/images/P4_2/moring.png" alt="">
                    <img class=" pos4 ani" swiper-animate-effect="slideInRight" swiper-animate-duration="0.6s"
                         swiper-animate-delay="1.5s" src="../jl/images/P4_2/line.png" alt="">
                    <img class=" pos5 ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.6s"
                         swiper-animate-delay="2s" src="../jl/images/P4_2/afternoon.png" alt="">
                    <img class=" pos6 ani" swiper-animate-effect="slideInUp" swiper-animate-duration="0.6s"
                         swiper-animate-delay="2.5s" src="../jl/images/P4_2/text1.png" alt="">
                    <img class="pos pos7 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                         swiper-animate-delay="3s" src="../jl/images/2.png" alt="">
                </li>
                <li class="li3">
                    <img class="pos pos1 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="1s"
                         swiper-animate-delay="0s" src="../jl/images/P4_3/title.png" alt="">
                    <img class="pos pos2 ani" swiper-animate-effect="slideInUp" swiper-animate-duration="0.6s"
                         swiper-animate-delay="0.5s" src="../jl/images/P4_3/text.png" alt="">
                    <img class="pos pos3 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="1s"
                         swiper-animate-delay="1s" src="../jl/images/1.png" alt="">
                </li>
                <li class="li4">
                    <img class="pos pos1 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="1s"
                         swiper-animate-delay="0s" src="../jl/images/P4_4/title.png" alt="">
                    <img class="pos pos2 ani" swiper-animate-effect="slideInUp" swiper-animate-duration="0.6s"
                         swiper-animate-delay="0.5s" src="../jl/images/P4_4/text.png" alt="">
                    <img class="pos pos3 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.6s"
                         swiper-animate-delay="1s" src="../jl/images/1.png" alt="">
                </li>

            </ul>
        </section>
        <!-------------slide5----------------->
        <section class="swiper-slide swiper-slide5">
            <img class="pos pos1 ani" swiper-animate-effect="slideInLeft" swiper-animate-duration="0.5s"
                 swiper-animate-delay="0s" src="../jl/images/P5/hTitle.png" alt="">
            <div class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.8s">
                <img class="pos pos2 " src="../jl/images/P5/line1.png" alt="">
                <img class="pos0 pos3 " src="../jl/images/P5/text1.png" alt="">
            </div>
            <div class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
                <img class="pos pos4 " src="../jl/images/P5/line2.png" alt="">
                <img class="pos0 pos5 " src="../jl/images/P5/text3.png" alt="">
            </div>
            <div class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.6s">
                <img class="pos pos6 " src="../jl/images/P5/line3.png" alt="">
                <img class="pos0 pos7 " src="../jl/images/P5/text2.png" alt="">
            </div>
            <img class="center pos8 ani" swiper-animate-effect="slideInUp" swiper-animate-duration="0.8s"
                 swiper-animate-delay="2s" src="../jl/images/P5/ewm.png" alt="">
            <img class="center pos9 ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s"
                 swiper-animate-delay="2.4s" src="../jl/images/P5/text4.png" alt="">
        </section>
    </div>
</div>

</body>
<script src="../jl/js/jquery-1.11.3.min.js"></script>
<script src="../jl/js/sequenceFrame.js"></script>

<script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript" charset="utf-8"></script>
<script type="application/javascript">
    wx.config(<?php echo $js->config(array('onMenuShareTimeline', 'onMenuShareAppMessage'), false) ?>);
    // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在 页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready 函数中。
    wx.ready(function () {
        // 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口
        wx.onMenuShareTimeline({
            title: '聚力共享', // 分享标题
            link: "https://weixin.touchworld-sh.com/juli",
            imgUrl: "{{asset('jl/images/juli.jpg')}}", // 分享图标
            success: function () {
                // 用户确认分享后执行的回调函数
            }
        });
        // 获取“分享给朋友”按钮点击状态及自定义分享内容接口
        wx.onMenuShareAppMessage({
            title: '聚力共享', // 分享标题
            desc: "互联网CEO分享会内容峰会", // 分享描述
            link: "https://weixin.touchworld-sh.com/juli",
            imgUrl: "{{asset('jl/images/juli.jpg')}}", // 分享图标
            type: 'link', // 分享类型,music、video或link，不填默认为link
            success: function () {
                // 用户确认分享后执行的回调函数
            }
        });
    });


    var status = 0;
    var mySwiper = new Swiper('.swiper-container', {
        speed: 500,
        direction: 'vertical',
        pagination: '.swiper-pagination',
        mousewheelControl: true,
        allowSwipeToNext: true,
        onInit: function (swiper) { //Swiper2.x的初始化是onFirstInit
            swiperAnimateCache(swiper); //隐藏动画元素
            swiperAnimate(swiper); //初始化完成开始动画
            canvas1();
        },
        onSlideChangeStart: function (swiper) {
            var index = mySwiper.activeIndex;
            if (status == 0 && index == 1) {
                canvas2();
                status = 1
            }
        },
        onSlideChangeEnd: function (swiper) {
            swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
        }
    })

    $('.swiper-slide4 .location').click(function () {
        var index = $(this).index();
        $('ul').fadeIn(200);
        $('ul li').eq(index - 1).show().siblings().hide();

    })

    $('li').click(function () {
        $('ul').fadeOut(1000);
        $(this).hide();
    })

    function canvas1() {
        var imgarr = [];
        for (var i = 2; i < 52; i++) {
            imgarr.push('../jl/images/home/' + i + '.jpg');
        }
//            for(var j = 10 ;j < 100;j ++){
//                imgarr.push('../jl/images/home/1_000'+j+'.jpg');
//            }
//            for(var k = 100 ;k < 102;k ++){
//                imgarr.push('../jl/images/home/1_00'+k+'.jpg');
//            }
        var frame2 = new SequenceFrame({
            id: $('#canvas1')[0],
            width: 640,
            height: 1038,
            speed: 50,
            loop: false,
            imgArr: imgarr
        });
    }

    function canvas2() {
        var imgarr2 = [];
        for (var z = 1; z < 52; z++) {
            imgarr2.push('../jl/images/intruText/' + z + '.jpg')
        }
        var frame1 = new SequenceFrame({
            id: $('#canvas2')[0],
            width: 640,
            height: 1038,
            speed: 50,
            loop: false,
            imgArr: imgarr2

        });

    }
    
        var audio = document.getElementById('audio');
        document.addEventListener("WeixinJSBridgeReady", function () {
            audio.play();
        }, false);
        window.addEventListener('touchstart', function firstTouch(){
              audio.play();
              this.removeEventListener('touchstart', firstTouch);
          });


</script>

</html>